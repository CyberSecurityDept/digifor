{
  "info": {
    "name": "Forenlytic Analytics API",
    "description": "Complete API collection for Analytics workflow from file upload to contact correlation",
    "schema": "https://schema.getpostman.com/json/collection/v2.1.0/collection.json",
    "version": "1.0.0"
  },
  "variable": [
    {
      "key": "base_url",
      "value": "http://localhost:8000/api/v1",
      "type": "string"
    },
    {
      "key": "file_id",
      "value": "",
      "type": "string"
    },
    {
      "key": "device_id",
      "value": "",
      "type": "string"
    },
    {
      "key": "analytic_id",
      "value": "",
      "type": "string"
    }
  ],
  "item": [
    {
      "name": "File Management",
      "item": [
        {
          "name": "Upload Data File",
          "request": {
            "method": "POST",
            "header": [],
            "body": {
              "mode": "formdata",
              "formdata": [
                {
                  "key": "file",
                  "type": "file",
                  "src": "/path/to/your/file.xlsx"
                },
                {
                  "key": "file_name",
                  "value": "contacts_export.xlsx",
                  "type": "text"
                },
                {
                  "key": "tools",
                  "value": "oxygen",
                  "type": "text"
                }
              ]
            },
            "url": {
              "raw": "{{base_url}}/analytics/upload-data",
              "host": ["{{base_url}}"],
              "path": ["analytics", "upload-data"]
            },
            "description": "Upload file data untuk analisis forensik"
          },
          "response": [
            {
              "name": "Success Response",
              "originalRequest": {
                "method": "POST",
                "header": [],
                "body": {
                  "mode": "formdata",
                  "formdata": [
                    {
                      "key": "file",
                      "type": "file",
                      "src": "/path/to/your/file.xlsx"
                    },
                    {
                      "key": "file_name",
                      "value": "contacts_export.xlsx",
                      "type": "text"
                    },
                    {
                      "key": "tools",
                      "value": "oxygen",
                      "type": "text"
                    }
                  ]
                },
                "url": {
                  "raw": "{{base_url}}/analytics/upload-data",
                  "host": ["{{base_url}}"],
                  "path": ["analytics", "upload-data"]
                }
              },
              "status": "OK",
              "code": 200,
              "_postman_previewlanguage": "json",
              "header": [
                {
                  "key": "Content-Type",
                  "value": "application/json"
                }
              ],
              "cookie": [],
              "body": "{\n  \"status\": 200,\n  \"message\": \"File uploaded and processed successfully\",\n  \"data\": {\n    \"file_id\": 1,\n    \"file_name\": \"contacts_export.xlsx\",\n    \"file_size\": 245760,\n    \"tools\": \"oxygen\",\n    \"upload_time\": \"2024-01-15T10:30:00Z\",\n    \"status\": \"processed\"\n  }\n}"
            }
          ]
        },
        {
          "name": "Get All Files",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{base_url}}/analytics/files/all",
              "host": ["{{base_url}}"],
              "path": ["analytics", "files", "all"]
            },
            "description": "Mendapatkan daftar semua file yang telah diupload"
          },
          "response": [
            {
              "name": "Success Response",
              "originalRequest": {
                "method": "GET",
                "header": [],
                "url": {
                  "raw": "{{base_url}}/analytics/files/all",
                  "host": ["{{base_url}}"],
                  "path": ["analytics", "files", "all"]
                }
              },
              "status": "OK",
              "code": 200,
              "_postman_previewlanguage": "json",
              "header": [
                {
                  "key": "Content-Type",
                  "value": "application/json"
                }
              ],
              "cookie": [],
              "body": "{\n  \"status\": 200,\n  \"message\": \"Files retrieved successfully\",\n  \"data\": [\n    {\n      \"id\": 1,\n      \"file_name\": \"contacts_export.xlsx\",\n      \"file_size\": 245760,\n      \"tools\": \"oxygen\",\n      \"upload_time\": \"2024-01-15T10:30:00Z\",\n      \"status\": \"processed\"\n    }\n  ]\n}"
            }
          ]
        }
      ]
    },
    {
      "name": "Device Management",
      "item": [
        {
          "name": "Add Device",
          "request": {
            "method": "POST",
            "header": [],
            "body": {
              "mode": "formdata",
              "formdata": [
                {
                  "key": "owner_name",
                  "value": "John Doe",
                  "type": "text"
                },
                {
                  "key": "phone_number",
                  "value": "081234567890",
                  "type": "text"
                },
                {
                  "key": "file_id",
                  "value": "{{file_id}}",
                  "type": "text"
                }
              ]
            },
            "url": {
              "raw": "{{base_url}}/analytics/device/add-device",
              "host": ["{{base_url}}"],
              "path": ["analytics", "device", "add-device"]
            },
            "description": "Menambahkan device baru dengan file yang sudah diupload"
          },
          "response": [
            {
              "name": "Success Response",
              "originalRequest": {
                "method": "POST",
                "header": [],
                "body": {
                  "mode": "formdata",
                  "formdata": [
                    {
                      "key": "owner_name",
                      "value": "John Doe",
                      "type": "text"
                    },
                    {
                      "key": "phone_number",
                      "value": "081234567890",
                      "type": "text"
                    },
                    {
                      "key": "file_id",
                      "value": "1",
                      "type": "text"
                    }
                  ]
                },
                "url": {
                  "raw": "{{base_url}}/analytics/device/add-device",
                  "host": ["{{base_url}}"],
                  "path": ["analytics", "device", "add-device"]
                }
              },
              "status": "OK",
              "code": 200,
              "_postman_previewlanguage": "json",
              "header": [
                {
                  "key": "Content-Type",
                  "value": "application/json"
                }
              ],
              "cookie": [],
              "body": "{\n  \"status\": 200,\n  \"message\": \"Device created successfully\",\n  \"data\": {\n    \"device_id\": 1,\n    \"owner_name\": \"John Doe\",\n    \"phone_number\": \"081234567890\",\n    \"file_id\": 1,\n    \"created_at\": \"2024-01-15T10:35:00Z\"\n  }\n}"
            }
          ]
        },
        {
          "name": "Get All Devices",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{base_url}}/analytics/device/get-all-devices",
              "host": ["{{base_url}}"],
              "path": ["analytics", "device", "get-all-devices"]
            },
            "description": "Mendapatkan daftar semua device"
          },
          "response": [
            {
              "name": "Success Response",
              "originalRequest": {
                "method": "GET",
                "header": [],
                "url": {
                  "raw": "{{base_url}}/analytics/device/get-all-devices",
                  "host": ["{{base_url}}"],
                  "path": ["analytics", "device", "get-all-devices"]
                }
              },
              "status": "OK",
              "code": 200,
              "_postman_previewlanguage": "json",
              "header": [
                {
                  "key": "Content-Type",
                  "value": "application/json"
                }
              ],
              "cookie": [],
              "body": "{\n  \"status\": 200,\n  \"message\": \"Devices retrieved successfully\",\n  \"data\": [\n    {\n      \"device_id\": 1,\n      \"owner_name\": \"John Doe\",\n      \"phone_number\": \"081234567890\",\n      \"file_id\": 1,\n      \"file_name\": \"contacts_export.xlsx\",\n      \"created_at\": \"2024-01-15T10:35:00Z\"\n    }\n  ]\n}"
            }
          ]
        },
        {
          "name": "Get Device by ID",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{base_url}}/analytics/device/{{device_id}}",
              "host": ["{{base_url}}"],
              "path": ["analytics", "device", "{{device_id}}"]
            },
            "description": "Mendapatkan detail device berdasarkan ID"
          },
          "response": [
            {
              "name": "Success Response",
              "originalRequest": {
                "method": "GET",
                "header": [],
                "url": {
                  "raw": "{{base_url}}/analytics/device/1",
                  "host": ["{{base_url}}"],
                  "path": ["analytics", "device", "1"]
                }
              },
              "status": "OK",
              "code": 200,
              "_postman_previewlanguage": "json",
              "header": [
                {
                  "key": "Content-Type",
                  "value": "application/json"
                }
              ],
              "cookie": [],
              "body": "{\n  \"status\": 200,\n  \"message\": \"Device retrieved successfully\",\n  \"data\": {\n    \"device_id\": 1,\n    \"owner_name\": \"John Doe\",\n    \"phone_number\": \"081234567890\",\n    \"device_name\": \"John Doe Device\",\n    \"device_type\": \"iOS\",\n    \"device_model\": \"iPhone 12 Pro Max\",\n    \"os_version\": \"iOS 15.0\",\n    \"imei\": \"123456789012345\",\n    \"serial_number\": \"ABC123456789\",\n    \"extraction_tool\": \"oxygen\",\n    \"extraction_method\": \"Physical\",\n    \"extraction_date\": \"2024-01-15T10:30:00Z\",\n    \"is_encrypted\": false,\n    \"encryption_type\": null,\n    \"is_rooted\": false,\n    \"is_jailbroken\": false,\n    \"file_name\": \"contacts_export.xlsx\",\n    \"created_at\": \"2024-01-15T10:35:00Z\",\n    \"updated_at\": \"2024-01-15T10:35:00Z\",\n    \"file_info\": {\n      \"file_id\": 1,\n      \"file_name\": \"contacts_export.xlsx\",\n      \"file_type\": \"Excel\",\n      \"notes\": \"Contact export from iPhone\",\n      \"tools\": \"oxygen\",\n      \"total_size\": 245760,\n      \"total_size_formatted\": \"240.00 KB\"\n    },\n    \"data_extraction_status\": {\n      \"contacts_count\": 150,\n      \"messages_count\": 500,\n      \"calls_count\": 200,\n      \"hash_files_count\": 0,\n      \"social_media_count\": 5,\n      \"total_extracted\": 855,\n      \"is_extracted\": true\n    }\n  }\n}"
            }
          ]
        }
      ]
    },
    {
      "name": "Analytics Management",
      "item": [
        {
          "name": "Create Analytic with Devices",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"name\": \"Contact Correlation Analysis\",\n  \"description\": \"Analysis of contact correlations across devices\",\n  \"method\": \"Contact Correlation\",\n  \"device_ids\": [{{device_id}}]\n}"
            },
            "url": {
              "raw": "{{base_url}}/analytics/create-analytic-with-devices",
              "host": ["{{base_url}}"],
              "path": ["analytics", "create-analytic-with-devices"]
            },
            "description": "Membuat analytic baru dengan device yang sudah ada"
          },
          "response": [
            {
              "name": "Success Response",
              "originalRequest": {
                "method": "POST",
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  }
                ],
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"name\": \"Contact Correlation Analysis\",\n  \"description\": \"Analysis of contact correlations across devices\",\n  \"method\": \"Contact Correlation\",\n  \"device_ids\": [1]\n}"
                },
                "url": {
                  "raw": "{{base_url}}/analytics/create-analytic-with-devices",
                  "host": ["{{base_url}}"],
                  "path": ["analytics", "create-analytic-with-devices"]
                }
              },
              "status": "OK",
              "code": 200,
              "_postman_previewlanguage": "json",
              "header": [
                {
                  "key": "Content-Type",
                  "value": "application/json"
                }
              ],
              "cookie": [],
              "body": "{\n  \"status\": 200,\n  \"message\": \"Analytic created successfully\",\n  \"data\": {\n    \"analytic_id\": 1,\n    \"name\": \"Contact Correlation Analysis\",\n    \"description\": \"Analysis of contact correlations across devices\",\n    \"method\": \"Contact Correlation\",\n    \"status\": \"created\",\n    \"created_at\": \"2024-01-15T12:00:00Z\",\n    \"devices\": [\n      {\n        \"device_id\": 1,\n        \"owner_name\": \"John Doe\",\n        \"phone_number\": \"081234567890\"\n      }\n    ]\n  }\n}"
            }
          ]
        },
        {
          "name": "Get All Analytics",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{base_url}}/analytics/get-all-analytics",
              "host": ["{{base_url}}"],
              "path": ["analytics", "get-all-analytics"]
            },
            "description": "Mendapatkan daftar semua analytics"
          },
          "response": [
            {
              "name": "Success Response",
              "originalRequest": {
                "method": "GET",
                "header": [],
                "url": {
                  "raw": "{{base_url}}/analytics/get-all-analytics",
                  "host": ["{{base_url}}"],
                  "path": ["analytics", "get-all-analytics"]
                }
              },
              "status": "OK",
              "code": 200,
              "_postman_previewlanguage": "json",
              "header": [
                {
                  "key": "Content-Type",
                  "value": "application/json"
                }
              ],
              "cookie": [],
              "body": "{\n  \"status\": 200,\n  \"message\": \"Analytics retrieved successfully\",\n  \"data\": [\n    {\n      \"analytic_id\": 1,\n      \"name\": \"Contact Correlation Analysis\",\n      \"description\": \"Analysis of contact correlations across devices\",\n      \"method\": \"Contact Correlation\",\n      \"status\": \"created\",\n      \"created_at\": \"2024-01-15T12:00:00Z\",\n      \"device_count\": 1\n    }\n  ]\n}"
            }
          ]
        }
      ]
    },
    {
      "name": "Contact Correlation Analysis",
      "item": [
        {
          "name": "Get Contact Correlation",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"analytic_id\": {{analytic_id}}\n}"
            },
            "url": {
              "raw": "{{base_url}}/analytic/{{analytic_id}}/contact-correlation",
              "host": ["{{base_url}}"],
              "path": ["analytic", "{{analytic_id}}", "contact-correlation"]
            },
            "description": "Melakukan analisis korelasi kontak antar device"
          },
          "response": [
            {
              "name": "Success Response (With Correlations)",
              "originalRequest": {
                "method": "POST",
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  }
                ],
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"analytic_id\": 1\n}"
                },
                "url": {
                  "raw": "{{base_url}}/analytic/1/contact-correlation",
                  "host": ["{{base_url}}"],
                  "path": ["analytic", "1", "contact-correlation"]
                }
              },
              "status": "OK",
              "code": 200,
              "_postman_previewlanguage": "json",
              "header": [
                {
                  "key": "Content-Type",
                  "value": "application/json"
                }
              ],
              "cookie": [],
              "body": "{\n  \"status\": 200,\n  \"message\": \"Contact correlation analysis completed\",\n  \"data\": {\n    \"devices\": [\n      {\n        \"device_label\": \"Device A\",\n        \"device_id\": 1,\n        \"owner_name\": \"John Doe\",\n        \"phone_number\": \"081234567890\"\n      },\n      {\n        \"device_label\": \"Device B\",\n        \"device_id\": 2,\n        \"owner_name\": \"Jane Smith\",\n        \"phone_number\": \"081234567891\"\n      }\n    ],\n    \"correlations\": [\n      {\n        \"phone_number\": \"081234567893\",\n        \"contact_name\": \"Alice Wilson\",\n        \"devices_found_in\": [\n          {\n            \"device_label\": \"Device A\",\n            \"device_id\": 1,\n            \"owner_name\": \"John Doe\"\n          },\n          {\n            \"device_label\": \"Device B\",\n            \"device_id\": 2,\n            \"owner_name\": \"Jane Smith\"\n          }\n        ]\n      }\n    ]\n  }\n}"
            },
            {
              "name": "Success Response (No Correlations)",
              "originalRequest": {
                "method": "POST",
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  }
                ],
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"analytic_id\": 1\n}"
                },
                "url": {
                  "raw": "{{base_url}}/analytic/1/contact-correlation",
                  "host": ["{{base_url}}"],
                  "path": ["analytic", "1", "contact-correlation"]
                }
              },
              "status": "OK",
              "code": 200,
              "_postman_previewlanguage": "json",
              "header": [
                {
                  "key": "Content-Type",
                  "value": "application/json"
                }
              ],
              "cookie": [],
              "body": "{\n  \"status\": 200,\n  \"message\": \"Contact correlation analysis completed\",\n  \"data\": {\n    \"devices\": [\n      {\n        \"device_label\": \"Device A\",\n        \"device_id\": 1,\n        \"owner_name\": \"John Doe\",\n        \"phone_number\": \"081234567890\"\n      },\n      {\n        \"device_label\": \"Device B\",\n        \"device_id\": 2,\n        \"owner_name\": \"Jane Smith\",\n        \"phone_number\": \"081234567891\"\n      }\n    ],\n    \"correlations\": []\n  }\n}"
            }
          ]
        },
        {
          "name": "Save Contact Correlation Summary",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"summary\": \"Analisis korelasi kontak menunjukkan bahwa terdapat 3 kontak yang sama antara Device A dan Device B. Kontak utama yang teridentifikasi adalah Alice Wilson (081234567893) yang muncul di kedua device. Hal ini menunjukkan kemungkinan komunikasi antara kedua pemilik device.\"\n}"
            },
            "url": {
              "raw": "{{base_url}}/analytic/{{analytic_id}}/save-summary",
              "host": ["{{base_url}}"],
              "path": ["analytic", "{{analytic_id}}", "save-summary"]
            },
            "description": "Menyimpan ringkasan hasil analisis korelasi kontak"
          },
          "response": [
            {
              "name": "Success Response",
              "originalRequest": {
                "method": "POST",
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  }
                ],
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"summary\": \"Analisis korelasi kontak menunjukkan bahwa terdapat 3 kontak yang sama antara Device A dan Device B. Kontak utama yang teridentifikasi adalah Alice Wilson (081234567893) yang muncul di kedua device. Hal ini menunjukkan kemungkinan komunikasi antara kedua pemilik device.\"\n}"
                },
                "url": {
                  "raw": "{{base_url}}/analytic/1/save-summary",
                  "host": ["{{base_url}}"],
                  "path": ["analytic", "1", "save-summary"]
                }
              },
              "status": "OK",
              "code": 200,
              "_postman_previewlanguage": "json",
              "header": [
                {
                  "key": "Content-Type",
                  "value": "application/json"
                }
              ],
              "cookie": [],
              "body": "{\n  \"status\": 200,\n  \"message\": \"Summary saved successfully\",\n  \"data\": {\n    \"analytic_id\": 1,\n    \"analytic_name\": \"Contact Correlation Analysis\",\n    \"summary\": \"Analisis korelasi kontak menunjukkan bahwa terdapat 3 kontak yang sama antara Device A dan Device B. Kontak utama yang teridentifikasi adalah Alice Wilson (081234567893) yang muncul di kedua device. Hal ini menunjukkan kemungkinan komunikasi antara kedua pemilik device.\",\n    \"updated_at\": \"2024-01-15T12:30:00Z\"\n  }\n}"
            }
          ]
        },
        {
          "name": "Export Contact Correlation PDF",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{base_url}}/analytic/{{analytic_id}}/export-pdf",
              "host": ["{{base_url}}"],
              "path": ["analytic", "{{analytic_id}}", "export-pdf"]
            },
            "description": "Export hasil analisis korelasi kontak ke PDF"
          },
          "response": [
            {
              "name": "Success Response",
              "originalRequest": {
                "method": "GET",
                "header": [],
                "url": {
                  "raw": "{{base_url}}/analytic/1/export-pdf",
                  "host": ["{{base_url}}"],
                  "path": ["analytic", "1", "export-pdf"]
                }
              },
              "status": "OK",
              "code": 200,
              "_postman_previewlanguage": "json",
              "header": [
                {
                  "key": "Content-Type",
                  "value": "application/pdf"
                },
                {
                  "key": "Content-Disposition",
                  "value": "attachment; filename=contact_correlation_report_1_20240115_120000.pdf"
                }
              ],
              "cookie": [],
              "body": "[PDF Binary Data]"
            }
          ]
        }
      ]
    }
  ],
  "event": [
    {
      "listen": "prerequest",
      "script": {
        "type": "text/javascript",
        "exec": [
          "// Auto-extract IDs from responses",
          "if (pm.response && pm.response.json()) {",
          "    const response = pm.response.json();",
          "    if (response.data) {",
          "        if (response.data.file_id) {",
          "            pm.collectionVariables.set('file_id', response.data.file_id);",
          "        }",
          "        if (response.data.device_id) {",
          "            pm.collectionVariables.set('device_id', response.data.device_id);",
          "        }",
          "        if (response.data.analytic_id) {",
          "            pm.collectionVariables.set('analytic_id', response.data.analytic_id);",
          "        }",
          "    }",
          "}"
        ]
      }
    }
  ]
}
